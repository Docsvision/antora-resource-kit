=  Добавление поля

. Выберите секцию, в которую добавляется поле, в дереве объектов.
. Вызовите команду _New Field_ из контекстного меню секции.
. Выберите добавленное поля в дереве объектов.
+
.CardManager -- Добавление поля
image::new-field.png[CardManager -- Добавление поля]
+
. Введите псевдоним поля в поле _Псевдоним_.
+
.Псевдоним поля должен:
* Быть уникальным в рамках карточки.
* Содержать только латинские символы.
* Не содержать пробелы.
+
. Выберите тип поля в списке _Тип_:
+
* *_int_* -- целое.
* *_bool_* -- булево значение (Да/Нет).
* *_datetime_* -- дата и время.
* *_date_* -- дата.
* *_time_* -- время.
* *_enum_* -- перечисление (предопределённый набор уникальных значений).
* *_bitmask_* -- битовая маска.
* *_uniqueid_* -- уникальный идентификатор.
* *_userid_* -- идентификатор пользователя.
* *_string_* -- строка (не более 8000 символов).
* *_unistring_* -- строка в формате Unicode (не более 4000 символов).
* *_fileid_* -- идентификатор файла {dv}.
* *_float_* -- число с плавающей точкой.
* *_refid_* -- ссылка на строку другой секции.
* *_refcardid_* -- ссылка на карточку.
* *_text_* -- текст (не более 2^31^-1 байт).
* *_unitext_* -- текст в формате Unicode (не более 2^31^-1 байт).
* *_binary_* -- двоичные данные.
* *_image_* -- изображение.
* *_sdid_* -- идентификатор безопасности.
* *_decimal_* -- десятичное число.
* *_variant_* -- значение переменного типа.
+
. Если для поля был выбран строчной тип, укажите ограничение длины для текстовых данных в поле _Размер_.
. Если для поля был выбран ссылочный тип, выберите тип ссылки в списке _Тип ссылки_:
+
* *_Weak_* -- связанный объект разрешено удалять; при удалении объекта, содержащего ссылку, связанный объект останется.
* *_Hard_* -- связанный объект запрещено удалять, пока на него существует ссылка; при удалении объекта, содержащего ссылку, связанный объект также будет автоматически удален.
* *_None_* -- при удалении связанного объекта значение ссылочного поля будет очищено.
* *_Auto_* -- при удалении связанного объекта будет удалена вся строка секции, содержащей ссылку.
. Выберите режим копирования значения поля в списке *Копирование*:
* *_Null_* -- значение поля при копировании обновляется.
* *_Copy_* -- значение поля копируется.
* *_CreateNew_* -- создание нового значения (используются для ссылок).
+
. Введите локализованные названия поля в таблице _Названия_.
. Введите локализованные описания поля, для отображения в подсказках к полю в диалогах поиска и представлений, в таблице _Description_.
. Если необходимо, измените уникальный идентификатор секции в поле _Идентификатор_.
. Если поле является ссылочным, выберите тип карточки (схема карточки должна быть загружена в программу), на которую ссылка, в поле _Тип, куда ссылаемся (ID)_, а также секцию карточки в поле _Раздел, куда ссылаемся (ID)_.
. Если требуется, укажите значение по умолчанию в поле _Значение по умолчанию_ (флаг должен быть установлен).
. Настройте дополнительные параметры нового поля:
+
* `*Обязательное*` -- включает и выключает режим, при котором для сохранения карточки значение поля не должно быть пустым. Система не позволит сохранить карточку, если значение поля не задано.
* `*Зависит от пользователя*` -- указывает, что значение поля сопоставляется с конкретным пользователем системы. Таким образом, для каждого пользователя может храниться собственное уникальное значение данного поля.
* `*Исключить из поиска*` -- указывает, что поле не участвует в поиске, т.е. не отображается в диалоге поиска.
* `*Удалять связанную строку при изменении значения*` -- включает и выключает удаление связанных строк при изменении значения данного поля, используется для ссылочных полей.
* `*Отображается на форме карточки*` -- включает и выключает режим, при котором поле может быть сопоставлено с элементом пользовательского интерфейса. Этот признак используется в _Справочнике типов_.
* `*Системное (обновляется автоматически)*` -- указывает, что поле является системным. Учитывается при некоторых операциях с данными.
+
. Настройте список полей связанной карточки в последней таблице.
+
Если поле является ссылочным, можно настроить список полей для секции, на которую указывает ссылка. Значения полей из списка будут загружаться вместе со значением данного поля. Это позволяет снизить число обращений к серверу при чтении данных карточки или при её экспорте и печати.
